(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["designerModule9","metadata9"],{"01e0":function(e,t,n){},"0ff22":function(e,t,n){"use strict";n.r(t),t["default"]={metadata:{fieldName:"",columns:[]}}},1248:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("draggable",{staticClass:"module-screen",class:{root:"root"===e.type,null:!e.targetList||0===e.targetList.length,preview:"preview"===e.code},attrs:{element:"div","ghost-class":"sortable-ghost",animation:340,options:{group:{name:e.disabled?"preview":"compgroup",pull:!1},sort:!e.disabled}},on:{add:e.addModule},model:{value:e.targetList,callback:function(t){e.targetList=t},expression:"targetList"}},e._l(e.targetList,(function(t,r){return n("div",{key:t.uuid,staticClass:"component-box",class:{current:e.currentModule.uuid===t.uuid}},[e.disabled?[t.uuid?n(e.componentMap[t.mark],{directives:[{name:"show",rawName:"v-show",value:void 0===t.hidden||!t.hidden,expression:"item.hidden === undefined || !item.hidden"}],tag:"component",staticClass:"preview-element",class:{current:e.currentModule.uuid===t.uuid},attrs:{uuid:t.uuid,"project-type":e.projectType,code:e.code},on:{click:function(n){return e.changeCurrentModule(n,t)}}}):e._e()]:[t.uuid?n(e.componentMap[t.mark],{directives:[{name:"show",rawName:"v-show",value:void 0===t.hidden||!t.hidden,expression:"item.hidden === undefined || !item.hidden"}],tag:"component",staticClass:"preview-element",class:{current:e.currentModule.uuid===t.uuid},attrs:{uuid:t.uuid,"project-type":e.projectType,code:e.code},nativeOn:{click:function(n){return n.stopPropagation(),e.changeCurrentModule(n,t)}}}):e._e()],n("div",{staticClass:"component-item-operate-box",class:{right:"left"!==e.previewBtnGroupAlign,left:"left"===e.previewBtnGroupAlign}},["layoutc"!==t.mark?n("a",{staticClass:"btn-icon",attrs:{title:"复制",href:"javascript:;"},on:{click:function(n){return n.stopPropagation(),e.copyModule(t,r)}}},[n("a-icon",{attrs:{type:"copy"}})],1):e._e(),n("a",{staticClass:"btn-icon",attrs:{title:"删除",href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.removeModule(r)}}},[n("a-icon",{attrs:{type:"delete"}})],1)])],2)})),0)},i=[],o=(n("8e6e"),n("456d"),n("ac6a"),n("7514"),n("96cf"),n("3b8d")),a=n("bd86"),u=n("2f62"),s=n("381a"),c=n.n(s),d=n("2ef0"),l=n.n(d),f=n("310e"),p=n.n(f),m=n("6892");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(u["a"])("panelDesigner"),v=b.mapMutations,M=b.mapActions,y={name:"WorkPanel",data:function(){return{targetList:[],componentMap:{}}},methods:g(g(g({},v(["setModuleConfig","removeConfig","updateConfigMap","updateCurrentModule"])),M({modifyCurrentModule:"modifyCurrentModule",setModuleConfig:"setModuleConfig"})),{},{addModule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabled){e.next=2;break}return e.abrupt("return",!1);case 2:if(n=t.item._underlying_vm_,r={mark:n.mark},i=t.newIndex,this.beforeModuleJoinValidate(r)){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,this.addModuleObj(r,i);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addPreviewModuleObj:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0!==n&&this.updateConfigMap({key:this.code,configMap:n}),this.loadModule(t),this.targetList.splice(r,1,t);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),addModuleObj:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0===t.uuid&&(t.uuid=c()(16,{numbers:!1})),this.loadModule(t),e.next=4,this.modifyCurrentModule({key:this.code,module:t});case 4:i=void 0!==r&&r?0:1,this.targetList.splice(n,i,t),this.targetList=this.targetList.filter((function(e){return void 0!==e.uuid})),this.$emit("add",t),this.$emit("input",this.targetList),this.$forceUpdate();case 10:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),autoAppendModule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.targetList.find((function(e){return e.mark===t})),void 0===n){e.next=3;break}return e.abrupt("return",!1);case 3:return r={mark:t,hidden:!0},e.next=6,this.addModuleObj(r,0,!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),copyModule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=l.a.cloneDeep(t),r.uuid=c()(16,{numbers:!1}),i=l.a.cloneDeep(this.moduleConfigMap[t.uuid]),i.uuid=r.uuid,this.setModuleConfig({key:this.code,uuid:r.uuid,config:i}),this.targetList.splice(n+1,0,r),o=l.a.cloneDeep(this.targetList),e.next=9,this.modifyCurrentModule({key:this.code,module:r});case 9:this.$emit("add",r),this.$emit("input",o),this.$forceUpdate();case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeModule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.a.cloneDeep(this.targetList[t]),r=void 0!==this.targetList[t-1]?this.targetList[t-1]:this.targetList[t+1],void 0===r){e.next=5;break}return e.next=5,this.modifyCurrentModule({key:this.code,module:r});case 5:this.targetList.splice(t,1),i=l.a.cloneDeep(this.targetList),this.$emit("remove",{m:n,targetList:i}),this.$emit("input",i);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),autoRemoveModule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.targetList.find((function(e){return e.mark===t})),void 0!==n){e.next=3;break}return e.abrupt("return",!1);case 3:if(r=this.targetList.indexOf(n),-1!==r){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,this.removeModule(r);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadModule:function(e){var t=this.componentMap[e.mark];t||(this.componentMap[e.mark]=function(){return n("8c5a")("./".concat(e.mark,"/index.vue"))})},changeCurrentModule:function(e,t){if(this.disabled)return!1;"layoutc"!==t.mark&&e.preventDefault(),this.modifyCurrentModule({key:this.code,module:t}),m["a"].$emit("switchModuleConfigPanel_".concat(this.code))},autoSetModuleConfig:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.targetList.find((function(e){return e.mark===t})),void 0!==i){e.next=4;break}return e.next=4,this.autoAppendModule(t);case 4:if(i=this.targetList.find((function(e){return e.mark===t})),void 0!==i){e.next=7;break}return e.abrupt("return",!1);case 7:o=i.uuid,a=this.$store.state.panelDesigner[this.code].moduleConfigMap,n.uuid=o,n.mark=t,a[o]=n,this.updateConfigMap({key:this.code,configMap:a}),r&&r(i);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),clearAllModuleList:function(){this.targetList=[]},clearModuleListConfig:function(e){var t=this;!e||e.length<0||e.forEach((function(e){t.removeModuleConfig(e)}))},removeModuleConfig:function(e){this.removeConfig({key:this.code,uuid:e.uuid})}}),watch:{targetList:function(e){"preview"!==this.code&&this.$emit("input",e)}},computed:g(g({},Object(u["f"])({previewBtnGroupAlign:function(e){return e.customProperties.designer.previewBtnGroupAlign}})),{},{currentModule:function(){return this.$store.state.panelDesigner[this.code].currentModule},moduleConfigMap:function(){return this.$store.state.panelDesigner[this.code].moduleConfigMap},disabled:function(){return"preview"===this.code}}),mounted:function(){this.targetList=l.a.cloneDeep(this.value)},props:{value:{type:Array,default:function(){return[]}},type:{type:String,default:""},code:{type:String,default:""},projectType:{type:String,required:!0},beforeModuleJoinValidate:{type:Function,default:function(){return!0}}},components:{draggable:p.a},created:function(){var e=this;"root"===this.type&&(m["a"].$on("autoAppendModule_".concat(this.code),function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.autoAppendModule(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m["a"].$on("autoRemoveModule_".concat(this.code),function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.autoRemoveModule(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m["a"].$on("autoSetModuleConfig_".concat(this.code),(function(t){var n=t.mark,r=t.moduleConfig,i=t.callback;e.autoSetModuleConfig(n,r,i)})),m["a"].$on("autoChangeCurrentModule_".concat(this.code),(function(t){e.updateCurrentModule({key:e.code,module:t})})))},destroyed:function(){this.clearModuleListConfig(this.targetList),"root"===this.type&&(m["a"].$off("autoAppendModule_".concat(this.code)),m["a"].$off("autoRemoveModule_".concat(this.code)),m["a"].$off("autoSetModuleConfig_".concat(this.code)),m["a"].$off("autoChangeCurrentModule_".concat(this.code)))}},C=y,w=(n("92ee"),n("2877")),k=Object(w["a"])(C,r,i,!1,null,"23de1fb1",null);t["a"]=k.exports},"21dd":function(e,t,n){"use strict";n("935c")},"55fd":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={NORMAL:"NORMAL",BIND_DICT:"BIND_DICT"},i={NORMAL:"常规",BIND_DICT:"数据字典绑定"}},"62df":function(e,t,n){"use strict";t["a"]={computed:{commonModuleList:{get:function(){var e=this.moduleConfig&&this.moduleConfig.metadata&&this.moduleConfig.metadata.tabs?this.moduleConfig.metadata.tabs:[];return 0===e.length?[]:e[0]["moduleList"]},set:function(e){var t=this.moduleConfig.metadata.tabs;t&&1===t.length?this.moduleConfig.metadata.tabs[0]["moduleList"]=e:this.moduleConfig.metadata.tabs=[{title:"",moduleList:e}]}}}}},"7f84":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),i=n("2f62");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(i["a"])("panelDesigner"),s=u.mapMutations;t["a"]={methods:a({},s(["removeConfig"])),computed:{moduleConfig:function(){if(this.distModuleConfig)return this.distModuleConfig;var e=this.$store.state.panelDesigner[this.code].moduleConfigMap&&this.uuid&&this.$store.state.panelDesigner[this.code].moduleConfigMap[this.uuid];return e||this.metadata}},props:{uuid:{type:String,required:!0},distModuleConfig:{type:Object},code:{type:String,required:!0},projectType:{type:String,required:!0}},beforeDestroy:function(){this.moduleConfig&&this.moduleConfig.uuid&&this.removeConfig({key:this.code,uuid:this.moduleConfig.uuid})}}},"8c5a":function(e,t,n){var r={"./generalForm/index.vue":["18a5","chunk-4bd6d997","designerModule0~designerModule3","designerModule0"],"./generalList/index.vue":["b13d","designerModule1"],"./layoutc/index.vue":["c3d1","designerModule2~designerModule4","designerModule2"],"./operateLine/index.vue":["77b1","chunk-4bd6d997","designerModule0~designerModule3","designerModule3"],"./paddingc/index.vue":["8c96","designerModule2~designerModule4","designerModule4"],"./panelContainer/index.vue":["2728","designerModule5~designerModule7","designerModule5"],"./panelData/index.vue":["df2c","designerModule6"],"./panelProps/index.vue":["05f4","designerModule5~designerModule7","designerModule7"],"./tableSearch/index.vue":["93fc","designerModule8"],"./tabsPage/index.vue":["920a","designerModule9"],"./timeline/index.vue":["539d","designerModule10"],"./titleLine/index.vue":["3a46","designerModule11"],"./treeList/index.vue":["c047","designerModule12"],"./treeStruct/index.vue":["f003","designerModule13"]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="8c5a",e.exports=i},9e3:function(e,t,n){"use strict";n("ec8f")},"920a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.moduleConfig.metadata.mode===e.modeCons.NORMAL?[e.moduleConfig.metadata.tabs.length>0?n("a-tabs",e._l(e.moduleConfig.metadata.tabs,(function(t,r){return n("a-tab-pane",{key:r,attrs:{forceRender:!0,tab:t.title}},[n("panel-work-panel",{ref:"workPanel_"+r,refInFor:!0,attrs:{code:e.code,"project-type":e.projectType,"before-module-join-validate":e.normalModuleListValidate},model:{value:t.moduleList,callback:function(n){e.$set(t,"moduleList",n)},expression:"t.moduleList"}})],1)})),1):[n("a-alert",{attrs:{message:"请添加标签页列表",banner:""}})]]:e.moduleConfig.metadata.mode===e.modeCons.BIND_DICT?[e.moduleConfig.metadata.dictItemNames.length>0?n("a-tabs",{model:{value:e.tabActiveKey,callback:function(t){e.tabActiveKey=t},expression:"tabActiveKey"}},e._l(e.moduleConfig.metadata.dictItemNames,(function(t,r){return n("a-tab-pane",{key:r,attrs:{forceRender:!0,tab:t}},[0===r?n("panel-work-panel",{ref:"workPanel_dict",refInFor:!0,attrs:{code:e.code,"project-type":e.projectType,"before-module-join-validate":e.dictModuleListValidate},model:{value:e.commonModuleList,callback:function(t){e.commonModuleList=t},expression:"commonModuleList"}}):[n("a-alert",{attrs:{description:"Tab页组件可通过绑定页面参数中的item.itemValue参数与Tab页来建立关系。",type:"info","show-icon":""}},[n("template",{slot:"message"},[e._v("\n              请切换至第一个Tab页中配置您需要的组件\n              "),n("a-button",{attrs:{type:"link"},on:{click:e.toFirstTab}},[e._v("点击切换")])],1)],2),n("br")]],2)})),1):[n("a-alert",{attrs:{message:"请选择具有子项列表的数据字典",banner:""}})]]:e._e()],2)},i=[],o=(n("96cf"),n("3b8d")),a=n("7f84"),u=n("1248"),s=n("55fd"),c=n("62df"),d={name:"TabsPage",data:function(){return{modeCons:s["a"],tabActiveKey:0}},methods:{normalModuleListValidate:function(e){return!0},dictModuleListValidate:function(e){return!(!e||"panelContainer"!==e.mark)||(this.$message.warning("当前类型标签栏只能使用面板容器组件"),!1)},initModuleList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.moduleConfig.metadata.mode!==s["a"].NORMAL){e.next=26;break}if(this.moduleConfig.metadata.tabs&&0!==this.moduleConfig.metadata.tabs.length){e.next=3;break}return e.abrupt("return");case 3:t=0;case 4:if(!(t<this.moduleConfig.metadata.tabs.length)){e.next=24;break}if(n=this.moduleConfig.metadata.tabs[t],n.moduleList&&0!==n.moduleList.length){e.next=8;break}return e.abrupt("continue",21);case 8:r=0;case 9:if(!(r<n.moduleList.length)){e.next=21;break}if(i=n.moduleList[r],"preview"!==this.code){e.next=16;break}return e.next=14,this.$refs["workPanel_".concat(t)][0].addPreviewModuleObj(i,void 0,r);case 14:e.next=18;break;case 16:return e.next=18,this.$refs["workPanel_".concat(t)][0].addModuleObj(i,r);case 18:r++,e.next=9;break;case 21:t++,e.next=4;break;case 24:e.next=42;break;case 26:if(this.moduleConfig.metadata.mode!==s["a"].BIND_DICT){e.next=42;break}if(this.commonModuleList&&0!==this.commonModuleList.length){e.next=29;break}return e.abrupt("return");case 29:o=0;case 30:if(!(o<this.commonModuleList.length)){e.next=42;break}if(a=this.commonModuleList[o],"preview"!==this.code){e.next=37;break}return e.next=35,this.$refs["workPanel_dict"][0].addPreviewModuleObj(a,void 0,o);case 35:e.next=39;break;case 37:return e.next=39,this.$refs["workPanel_dict"][0].addModuleObj(a,o);case 39:o++,e.next=30;break;case 42:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toFirstTab:function(){this.tabActiveKey=0}},components:{panelWorkPanel:u["a"]},mixins:[a["a"],c["a"]],mounted:function(){this.$nextTick(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.initModuleList();case 1:case"end":return e.stop()}}),e,this)}))))}},l=d,f=(n("9000"),n("2877")),p=Object(f["a"])(l,r,i,!1,null,"6f6264b2",null);t["default"]=p.exports},"92ee":function(e,t,n){"use strict";n("01e0")},"935c":function(e,t,n){},c00a:function(e,t,n){"use strict";t["a"]={computed:{moduleConfig:function(){if(this.distModuleConfig)return this.distModuleConfig;var e=this.$store.state.DragConfig[this.code].moduleConfigMap&&this.uuid&&this.$store.state.DragConfig[this.code].moduleConfigMap[this.uuid];return e||this.metadata}},props:{uuid:{type:String,required:!0},distModuleConfig:{type:Object},code:{type:String,required:!0},projectType:{type:String,required:!0}}}},d603:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"10px","padding-bottom":"25px"}},[n("a-table",{ref:"table",attrs:{size:"default",columns:e.columns,dataSource:e.dataList,pagination:!1,rowKey:"id"}})],1)},i=[],o=(n("8e6e"),n("456d"),n("7618")),a=(n("ac6a"),n("bd86")),u=n("c00a"),s=n("0ff22"),c=n("2f62");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"RefEntityListPanel",data:function(){return{metadata:s["default"],dataList:[],columns:[]}},computed:l({},Object(c["f"])({funcList:function(e){return e.DragConfig.commonConfig.funcList}})),watch:{"moduleConfig.metadata.columns":function(e){var t={},n=[];e&&e.length>0&&(e.forEach((function(e){var r=e.example;if(("Date"===e.fieldPackagingType||e.columnExt&&"DATETIMEPICKER"===e.columnExt.formType||e.columnExt&&"DATEPICKER"===e.columnExt.formType)&&e.example&&"object"===Object(o["a"])(e.example)){var i="DATETIMEPICKER"===e.columnExt.formType?"YYYY-MM-DD hh:mm":"YYYY-MM-DD";r=e.example.format(i)}t[e.fieldName]=r;var a={title:e.fieldLabel,dataIndex:e.fieldName};n.push(a)})),this.columns=n,this.dataList=[t])}},mixins:[u["a"]]},p=f,m=(n("21dd"),n("2877")),h=Object(m["a"])(p,r,i,!1,null,"56e68356",null);t["default"]=h.exports},ec8f:function(e,t,n){}}]);